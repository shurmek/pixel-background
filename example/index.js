function l(e){return e instanceof HTMLElement}function u(e){let t=Array.isArray(e);if(typeof e!="object"||t){let n=t?"array":typeof e;throw new Error(`Invalid options. Expected an object but got a ${n}`)}let r=e.node===void 0||e.node===null;if(!l(e.node)||r){let n=r?typeof e.node:Object.getPrototypeOf(e.node);throw new Error(`Invalid options.node. Expected a HTMLElement but got a ${n}`)}if(e.node.tagName.toLowerCase()==="body")throw new Error("Invalid options.node. Don't use the document.body element. You should create a container")}var a=(e,t)=>e.toString()+t;var d=(e,t)=>{Object.assign(e.style,t)};function f(e,t,r,n){let o=document.createElement("canvas");return o.width=e,o.height=t,d(o,{position:"absolute",left:a(r,"px"),top:a(n,"px")}),o}function b(){let e=document.createElement("div");return d(e,{zIndex:"-1",position:"absolute",top:"0",left:"0",width:"100%",height:"100%"}),e}function h(e){return new ResizeObserver(t=>{let r=t[0],{width:n,height:o,left:i,top:s}=r.target.getBoundingClientRect();d(e,{left:a(i,"px"),top:a(s,"px")}),e.width=n,e.height=o})}function g(e,t,r){let n=e.getContext("2d"),o=t/2;return i=>{n.clearRect(0,0,n.canvas.width,n.canvas.height);let s=i.clientX,c=i.clientY;n.beginPath(),n.fillRect(s-o,c-o,t,t),n.fillStyle=r,n.fill()}}var v={color:"#953553",size:80,background:"#19191A"};function S(e){u(e);let t={...e,...v},{width:r,height:n,left:o,top:i}=t.node.getBoundingClientRect(),s=b(),c=f(r,n,o,i),m=h(c);document.body.prepend(s),s.appendChild(c);let p=g(c,t.size,t.color);document.addEventListener("mousemove",p),m.observe(t.node)}export{S as InitPixelBackground};
